(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(39),c=a.n(r),o=a(30),s=a(29);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(22),m=a(23),u=a(26),h=a(25),d=a(27),v=a(34),p=a.n(v),g=a(88),E=a(90),b=a.n(E),f=a(92),y=a.n(f),j=a(18),w=a.n(j),O=a(64),N=a.n(O),k=a(93),x=a.n(k),C=a(94),S=a.n(C),D=a(11),L=a(24),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={movieQuery:"",redirectToSearch:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleChangeMovieQuery",value:function(e){this.setState({movieQuery:e.target.value})}},{key:"dispatchSearchEvent",value:function(){if(this.isOnSearchPage()){var e=new CustomEvent("search",{detail:this.state.movieQuery});document.dispatchEvent(e),this.setState({movieQuery:""})}}},{key:"isOnSearchPage",value:function(){return window.location.hash.includes("/search")}},{key:"handleKeyDown",value:function(e){if("Enter"===e.key)return this.isOnSearchPage()?this.dispatchSearchEvent():void(this.state.movieQuery.length>0&&this.setState({redirectToSearch:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.movieQuery,n=t.redirectToSearch,r="/search/".concat(a);if(n)return i.a.createElement(s.a,{to:r});var c=this.props.classes;return i.a.createElement(b.a,{position:"static",className:c.appBar},i.a.createElement(y.a,{className:c.toolbar},i.a.createElement(N.a,{className:c.icon,edge:"start"},"movie"),i.a.createElement(w.a,{variant:"h6",color:"inherit",noWrap:!0},i.a.createElement(o.b,{to:"/",className:c.link},"Upcoming Movies")),i.a.createElement("div",{className:c.grow}),i.a.createElement("div",{className:c.search},i.a.createElement(x.a,{placeholder:"Search movies\u2026",classes:{root:c.inputRoot,input:c.inputInput},onChange:this.handleChangeMovieQuery.bind(this),onKeyPress:this.handleKeyDown.bind(this),value:a}),i.a.createElement(S.a,{component:o.b,onClick:function(){return e.dispatchSearchEvent()},disabled:0===a.length,to:r,className:c.iconButton,"aria-label":"Search"},i.a.createElement(N.a,null,"search")))))}}]),t}(n.Component),B=Object(D.withStyles)(function(e){return{appBar:{marginBottom:5*e.spacing.unit},toolbar:{flexWrap:"wrap",justifyContent:"center"},icon:{marginRight:2*e.spacing.unit},grow:{flexGrow:1},link:{color:"#fff",textDecoration:"none"},search:{width:"20%",minWidth:250,display:"flex",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.fade)(e.palette.common.white,.25)}},inputRoot:{color:"inherit",flexBasis:"80%"},inputInput:Object(g.a)({paddingRight:e.spacing.unit,paddingLeft:e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),iconButton:{color:"white",flexBasis:"20%"}}})(W),T=a(65),M=a.n(T),P=a(47),F=a.n(P),R=a(48),Q=a.n(R),A=a(49),_=a.n(A),q=a(96),I=a.n(q),U=a(95),G=a.n(U),K=a(50),H=a.n(K),J=a(51),z=a.n(J),V=a(31),$=a.n(V),X=a(12),Y=a.n(X),Z=a(62),ee=a.n(Z);var te=Object(D.withStyles)(function(e){return{movieCard:{marginBottom:e.spacing.unit},imageContainer:{minHeight:450},divMovieName:{minHeight:60,display:"flex",justifyContent:"center",alignItems:"center"},bold:{fontWeight:"bold"},tableText:{width:160},link:{color:"inherit",textDecoration:"none"}}})(function(e){var t=e.movie,a=e.classes,n=null===t.imagePath?"https://via.placeholder.com/300x450":"https://image.tmdb.org/t/p/w300/".concat(t.imagePath);return i.a.createElement(F.a,{className:a.movieCard},i.a.createElement("div",{className:a.imageContainer},i.a.createElement(Q.a,{image:n,component:"img",title:t.name})),i.a.createElement(_.a,null,i.a.createElement("div",{className:a.divMovieName},i.a.createElement(w.a,{variant:"subheading",className:a.bold},t.name)),i.a.createElement(G.a,null),i.a.createElement(H.a,null,i.a.createElement(z.a,null,i.a.createElement($.a,null,i.a.createElement(Y.a,{padding:"none",className:a.bold},"Genres:"),i.a.createElement(Y.a,{padding:"none",className:a.tableText},t.genres.join(", "))),i.a.createElement($.a,null,i.a.createElement(Y.a,{padding:"none",className:a.bold},"Release Date:"),i.a.createElement(Y.a,{padding:"none",className:a.tableText},t.releaseDate))))),i.a.createElement(I.a,null,i.a.createElement(ee.a,{size:"small"},i.a.createElement(o.b,{to:"/details/".concat(t.id),className:a.link},"View more"))))});var ae=Object(D.withStyles)(function(){return{gridContainer:{maxWidth:"1024px",margin:"0 auto"},movie:{maxWidth:300,margin:"0 auto"}}})(function(e){var t=e.classes,a=e.movieList;return i.a.createElement(M.a,{container:!0,spacing:8,className:t.gridContainer},a.map(function(e,a){return i.a.createElement(M.a,{item:!0,xs:12,sm:6,md:4,key:a},i.a.createElement("div",{className:t.movie},i.a.createElement(te,{movie:e})))}))});var ne=Object(D.withStyles)(function(e){return{alertDanger:{backgroundColor:"#f8d7da",border:"1px solid #f8d7da",borderRadius:4,maxWidth:500,margin:"0 auto",padding:2*e.spacing.unit},pinkColor:{color:"#721c24"}}})(function(e){var t=e.classes,a=e.message;return 0===a.length?null:i.a.createElement("div",{className:t.alertDanger},i.a.createElement(w.a,{className:t.pinkColor},"Failed to fetch the upcoming movies."),i.a.createElement(w.a,{className:t.pinkColor},"Error details: ",i.a.createElement("i",null,a)))});var ie=function(e){var t=e.startDate,a=e.endDate;return i.a.createElement("div",null,i.a.createElement(w.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Upcoming Movies"),i.a.createElement(w.a,{variant:"h5",gutterBottom:!0},i.a.createElement("b",null,"From:")," ",t,"\xa0",i.a.createElement("b",null,"To:")," ",a))},re=a(42),ce=a(52),oe=function(){function e(){Object(l.a)(this,e)}return Object(m.a)(e,null,[{key:"fetchFromApi",value:function(t,a){var n="".concat(Object(re.a)(e,se)[se]).concat(t);return fetch(n).then(function(e){if(!e.ok)throw e;return e.json()}).then(a).catch(function(e){return"function"===typeof e.json?e.json():{status_message:e.message}})}}]),e}(),se=Object(ce.a)("apiUrl");Object.defineProperty(oe,se,{writable:!0,value:window.location.host.startsWith("localhost")?"http://localhost:8080":"https://arctouch-api.herokuapp.com"});var le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).props=e,a.state={movieList:[],startDate:null,endDate:null,status_message:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;oe.fetchFromApi("/movies/upcoming",function(e){return{movieList:e.movies,startDate:e.dates.start,endDate:e.dates.end}}).then(function(t){return e.setState(t)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.movieList,n=t.startDate,r=t.endDate,c=t.status_message;return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(B,null),i.a.createElement(ne,{message:c}),i.a.createElement("div",{hidden:c.length>0||a.length>0},i.a.createElement(p.a,{className:e.mt5})),i.a.createElement("div",{hidden:0===a.length},i.a.createElement(ie,{startDate:n,endDate:r}),i.a.createElement(ae,{movieList:a,className:e.mt5})))}}]),t}(n.Component),me=Object(D.withStyles)(function(e){return{mt5:{marginTop:5*e.spacing.unit}}})(le),ue=(a(213),a(41)),he=a(97),de=a.n(he);var ve=Object(D.withStyles)(function(e){return{movieCard:{width:"50%",maxWidth:"100%",minWidth:320,margin:"0 auto",marginBottom:5*e.spacing.unit},tableFirstCol:{width:"10%",fontWeight:"bold"}}})(function(e){var t=e.movie,a=e.classes,n=null===t.imagePath?"https://via.placeholder.com/300x450":"https://image.tmdb.org/t/p/original/".concat(t.imagePath);return i.a.createElement(F.a,{className:a.movieCard},i.a.createElement(de.a,{title:t.name}),i.a.createElement("div",{className:a.imageContainer},i.a.createElement(Q.a,{image:n,component:"img",title:t.name})),i.a.createElement(_.a,null,i.a.createElement(H.a,null,i.a.createElement(z.a,null,i.a.createElement($.a,null,i.a.createElement(Y.a,{padding:"none",className:a.tableFirstCol},"Genres:"),i.a.createElement(Y.a,{padding:"none",className:a.tableText},t.genres.join(", "))),i.a.createElement($.a,null,i.a.createElement(Y.a,{padding:"none",className:a.tableFirstCol},"Release Date:"),i.a.createElement(Y.a,{padding:"none",className:a.tableText},t.releaseDate)),i.a.createElement($.a,null,i.a.createElement(Y.a,{padding:"none",className:a.tableFirstCol},"Overview:"),i.a.createElement(Y.a,{padding:"none",className:a.tableText},t.overview))))))}),pe=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),Object.defineProperty(Object(ue.a)(a),ge,{writable:!0,value:void 0}),a.state={movieDetails:{},status_message:""},Object(re.a)(Object(ue.a)(a),ge)[ge]=a.props.match.params.id,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;oe.fetchFromApi("/movies/".concat(Object(re.a)(this,ge)[ge]),function(e){return{movieDetails:e}}).then(function(t){return e.setState(t)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.status_message,n=t.movieDetails,r=Object.entries(n).length>0;return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(B,null),i.a.createElement("div",{hidden:a.length>0||r},i.a.createElement(p.a,{className:e.mt5})),i.a.createElement(ne,{message:a}),r?i.a.createElement(ve,{movie:n}):null)}}]),t}(n.Component),ge=Object(ce.a)("id"),Ee=Object(D.withStyles)(function(e){return{mt5:{marginTop:5*e.spacing.unit}}})(pe),be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).props=e,a.state={movieList:[],status_message:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"searchListener",value:function(e){this.setState({movieList:[]}),this.loadMovies(e.detail)}},{key:"componentDidMount",value:function(){var e=this.props.match.params.query;this.loadMovies(e),document.addEventListener("search",this.searchListener.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("search",this.searchListener.bind(this))}},{key:"loadMovies",value:function(e){var t=this;oe.fetchFromApi("/movies/query?q=".concat(e),function(e){return{movieList:e.movies}}).then(function(e){return t.setState(e)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.movieList,n=t.status_message;return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(B,null),i.a.createElement(ne,{message:n}),i.a.createElement("div",{hidden:n.length>0||a.length>0},i.a.createElement(p.a,{className:e.mt5})),i.a.createElement("div",{hidden:0===a.length},i.a.createElement(ae,{movieList:a,className:e.mt5})))}}]),t}(n.Component),fe=Object(D.withStyles)(function(e){return{mt5:{marginTop:5*e.spacing.unit}}})(be);c.a.render(i.a.createElement(o.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/",exact:!0,component:me}),i.a.createElement(s.b,{path:"/details/:id",exact:!0,component:Ee}),i.a.createElement(s.b,{path:"/search/:query",exact:!0,component:fe}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){e.exports=a(215)}},[[98,1,2]]]);
//# sourceMappingURL=main.019c230f.chunk.js.map